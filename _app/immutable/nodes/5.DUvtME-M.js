import"../chunks/DsnmJJEf.js";import{o as p,h as l}from"../chunks/BOOa181H.js";import{p as h,f,b as g,c as u,t as w,Y as v,Z as y,k as o,$ as E}from"../chunks/YEsR6uFO.js";import{p as $}from"../chunks/CSVxk9od.js";var b=f('<div style="width:100%;height:100%;max-width:100%"><div id="game" class="svelte-1yuxesa"></div></div>');function D(d,i){h(i,!0);async function n(){for(var t=["https://ccported.github.io/emdata","https://emdata.onrender.com","https://sojs-coder.github.io/emdata","https://d0136284.ccportedemdata.pages.dev","https://main.dtbdx4d2gvp5v.amplifyapp.com/","https://ccportedemdata.pages.dev"],a=0;a<t.length;a++)try{if((await(await fetch(t[a]+"/blocked_res.txt",{method:"GET"})).text()).indexOf("===NOT_BLOCKED===")!==-1)return t[a];continue}catch(r){console.log(`[R][EMULATOR][findDataCDN] Error (soft): ${r}`)}alert("All data delivery networks seem to be blocked. This will not work. If you think this is an error contact me though the instagram, discord, or email me at sojscoder@gmail.com or ccported@ccported.click")}let e=y(null);p(async()=>{try{const t=$.url.searchParams;v(e,t.get("rom"),!0);let a=t.get("core");const r=await n();let s;if(!o(e)||!a)throw"No rom or core specified";o(e).startsWith("http")||o(e).startsWith("//")?s=o(e):s=`https://ccgstatic.com/romss/${a}/${o(e)}`,window.EJS_player="#game",window.EJS_core=a,window.EJS_pathtodata=`${r}/data/`,window.EJS_gameUrl=s;const c=document.createElement("script");c.src=`${r}/data/loader.js`,document.body.appendChild(c)}catch(t){alert(t)}});var m=b();l(t=>{w(()=>E.title=`${(o(e)?o(e):"Emulator")??""} | CCPorted`)}),g(d,m),u()}export{D as component};
